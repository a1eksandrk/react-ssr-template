var S=Object.create;var d=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var A=(t,r,o,c)=>{if(r&&typeof r=="object"||typeof r=="function")for(let e of g(r))!w.call(t,e)&&e!==o&&d(t,e,{get:()=>r[e],enumerable:!(c=_(r,e))||c.enumerable});return t};var n=(t,r,o)=>(o=t!=null?S(x(t)):{},A(r||!t||!t.__esModule?d(o,"default",{value:t,enumerable:!0}):o,t));var m=n(require("node:path")),b=n(require("node:fs/promises")),h=n(require("react")),C=n(require("react-dom/server")),p=n(require("express"));var i=n(require("react"));var s=n(require("react")),l=require("react"),u=Counter=()=>{let[t,r]=(0,l.useState)(0);return s.default.createElement("div",{className:"counter"},s.default.createElement("span",{className:"counter__label"},t),s.default.createElement("div",{className:"counter__toolbar"},s.default.createElement("button",{onClick:()=>r(e=>e+1)},"Increment"),s.default.createElement("button",{onClick:()=>r(e=>e-1)},"Decrement")))};var f=App=()=>i.default.createElement("main",null,i.default.createElement("section",null,i.default.createElement("h1",null,"React SSR Template"),i.default.createElement(u,null)));var v=3e3,a=(0,p.default)();a.use(p.default.static(m.default.resolve(process.cwd(),"public")));a.get("/",async(t,r)=>{try{let o=await b.default.readFile(m.default.resolve(process.cwd(),"src/index.html"),"utf8");return r.send(o.replace('<div id="root"></div>',`<div id="root">${C.default.renderToString(h.default.createElement(f,null))}</div>`))}catch(o){return console.error(o),r.status(500).send("An error occurred")}});a.listen(v,()=>{console.log(`react-ssr-template app listening on port ${v}`)});
